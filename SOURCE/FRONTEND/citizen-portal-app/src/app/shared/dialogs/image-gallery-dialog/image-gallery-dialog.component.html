<h2 mat-dialog-title>{{ 'image-gallery.title' | translate }}</h2>
<div mat-dialog-content *ngIf="uploadFileFormGroup">
  <p>{{ 'image-gallery.subtitle' | translate }}</p>

  <!-- Upload form -->
  <form [formGroup]="uploadFileFormGroup" (submit)="uploadFile()">
    <input type="file" accept="{{ acceptedFiles }}" (change)="handleFileChange($event)" />
    <button
      mat-raised-button
      type="submit"
      color="primary"
      [disabled]="uploadFileFormGroup.invalid"
    >
      {{ 'upload' | translate }}
    </button>
  </form>
  <br />

  <!-- Selected -->
  <p>
    <b>{{ 'image-gallery.selected' | translate: { amount: getAmountSelectedImages() } }}</b>
    <button mat-icon-button color="primary" (click)="deselectAllImages()">
      <mat-icon>unpublished</mat-icon>
    </button>
  </p>

  <!-- Saved -->
  <ng-container *ngFor="let image of images">
    <div class="image" [matBadge]="isSelected(getUploadedFileSrc(image._id)) ? 'check' : null">
      <img
        [class.selected]="isSelected(getUploadedFileSrc(image._id))"
        src="{{ getUploadedFileSrc(image._id) }}"
        (click)="
          isSelected(getUploadedFileSrc(image._id))
            ? deselectImage(getUploadedFileSrc(image._id))
            : selectImage(getUploadedFileSrc(image._id))
        "
      />
      <div>
        <p>{{ image.name }}</p>
        <button
          mat-icon-button
          color="warn"
          (click)="deleteUploadedFile(image)"
          matTooltip="{{ 'delete' | translate }}"
        >
          <mat-icon>delete</mat-icon>
        </button>
      </div>
    </div>
  </ng-container>
</div>
<div mat-dialog-actions>
  <button mat-button (click)="onNoClick()">{{ 'cancel' | translate }}</button>
  <button mat-raised-button color="primary" (click)="closeDialog()">
    {{ 'update' | translate }}
  </button>
</div>
